{"ast":null,"code":"import { createElement, formatUnit, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\n\nvar NonWorkingDay =\n/** @class */\nfunction () {\n  function NonWorkingDay(gantt) {\n    this.parent = gantt;\n    this.nonworkingContainer = null;\n    this.holidayContainer = null;\n    this.weekendContainer = null;\n  }\n  /**\n   * Method append nonworking container\n   *\n   * @returns {void} .\n   */\n\n\n  NonWorkingDay.prototype.createNonworkingContainer = function () {\n    if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n      this.nonworkingContainer = createElement('div', {\n        className: cls.nonworkingContainer\n      });\n      this.parent.ganttChartModule.chartBodyContent.appendChild(this.nonworkingContainer);\n    }\n  };\n  /**\n   * calculation for holidays rendering.\n   *\n   * @returns {void} .\n   * @private\n   */\n\n\n  NonWorkingDay.prototype.renderHolidays = function () {\n    if (this.parent.holidays && this.parent.holidays.length > 0) {\n      this.createNonworkingContainer();\n\n      if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n        this.holidayContainer = createElement('div', {\n          className: cls.holidayContainer\n        });\n        this.nonworkingContainer.appendChild(this.holidayContainer);\n      }\n\n      this.holidayContainer.innerHTML = this.getHolidaysElement().innerHTML;\n    } else if (this.holidayContainer && this.holidayContainer.parentNode) {\n      remove(this.holidayContainer);\n\n      if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n        remove(this.nonworkingContainer);\n      }\n    }\n  };\n  /**\n   * Method to return holidays as html string\n   *\n   * @returns {HTMLElement} .\n   */\n\n\n  NonWorkingDay.prototype.getHolidaysElement = function () {\n    var fromDate;\n    var toDate;\n    var container = createElement('div');\n    var height = this.parent.contentHeight;\n    var scrollElement = this.parent.ganttChartModule.scrollElement;\n    var viewportHeight = parseInt(scrollElement.style.height, 10);\n\n    for (var i = 0; i < this.parent.holidays.length; i++) {\n      if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n        fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n        toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n        toDate.setDate(toDate.getDate() + 1);\n        fromDate.setHours(0, 0, 0, 0);\n        toDate.setHours(0, 0, 0, 0);\n      } else if (this.parent.holidays[i].from) {\n        fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n        fromDate.setHours(0, 0, 0, 0);\n      } else if (this.parent.holidays[i].to) {\n        fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n        fromDate.setHours(0, 0, 0, 0);\n      }\n\n      var width = this.parent.holidays[i].from && this.parent.holidays[i].to ? this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n      var left = this.parent.dataOperation.getTaskLeft(fromDate, false);\n      var holidayDiv = createElement('div', {\n        className: cls.holidayElement,\n        styles: \"left:\" + left + \"px; width:\" + width + \"px; height:100%;\"\n      });\n      var spanTop = viewportHeight < height ? viewportHeight / 2 : height / 2;\n      var spanElement = createElement('span', {\n        className: cls.holidayLabel,\n        styles: \"top:\" + spanTop + \"px;left:\" + width / 2 + \"px;\"\n      });\n      var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n      spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n      holidayDiv.appendChild(spanElement);\n\n      if (this.parent.holidays[i].cssClass) {\n        holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n      }\n\n      container.appendChild(holidayDiv);\n    }\n\n    return container;\n  };\n  /**\n   * @returns {void} .\n   * @private\n   */\n\n\n  NonWorkingDay.prototype.renderWeekends = function () {\n    if (this.parent.highlightWeekends) {\n      this.createNonworkingContainer();\n\n      if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n        this.weekendContainer = createElement('div', {\n          className: cls.weekendContainer\n        });\n        this.nonworkingContainer.appendChild(this.weekendContainer);\n      }\n\n      this.weekendContainer.innerHTML = this.getWeekendElements().innerHTML;\n    } else if (this.weekendContainer) {\n      remove(this.weekendContainer);\n\n      if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n        remove(this.nonworkingContainer);\n      }\n    }\n  };\n  /**\n   * Method to get weekend html string\n   *\n   * @returns {HTMLElement} .\n   */\n\n\n  NonWorkingDay.prototype.getWeekendElements = function () {\n    var container = createElement('div');\n    var startDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n    var endDate = new Date(this.parent.timelineModule.timelineEndDate.getTime());\n    var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n    var isFirstCell = true;\n\n    do {\n      if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n        var left = this.parent.dataOperation.getTaskLeft(startDate, false);\n        var width = this.parent.perDayWidth;\n\n        if (isFirstCell) {\n          var start = new Date(startDate.getTime());\n          var tempEnd = new Date(start.getTime());\n          tempEnd.setDate(tempEnd.getDate() + 1);\n          tempEnd.setHours(0, 0, 0, 0);\n          width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n          isFirstCell = false;\n        }\n\n        var weekendDiv = createElement('div', {\n          className: cls.weekend,\n          styles: \"left:\" + left + \"px;width:\" + width + \"px;height:100%;\"\n        });\n        container.appendChild(weekendDiv);\n      }\n\n      startDate.setDate(startDate.getDate() + 1);\n      startDate.setHours(0, 0, 0, 0);\n    } while (startDate < endDate);\n\n    return container;\n  };\n\n  NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n    var height = this.parent.contentHeight;\n    var scrollElement = this.parent.ganttChartModule.scrollElement;\n    var viewportHeight = parseInt(scrollElement.style.height, 10);\n    var top = viewportHeight < height ? viewportHeight / 2 : height / 2;\n    var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n\n    for (var i = 0; i < labels.length; i++) {\n      labels[i].style.top = formatUnit(top);\n    }\n  };\n  /**\n   * Method to update height for all internal containers\n   *\n   * @returns {void} .\n   * @private\n   */\n\n\n  NonWorkingDay.prototype.updateContainerHeight = function () {\n    var height = this.parent.getContentHeight();\n\n    if (this.holidayContainer) {\n      this.holidayContainer.style.height = formatUnit(height);\n      this.updateHolidayLabelHeight();\n    }\n\n    if (this.weekendContainer) {\n      this.weekendContainer.style.height = formatUnit(height);\n    }\n  };\n  /**\n   * Method to remove containers of holiday and weekend\n   *\n   * @returns {void} .\n   */\n\n\n  NonWorkingDay.prototype.removeContainers = function () {\n    if (this.holidayContainer) {\n      remove(this.holidayContainer);\n    }\n\n    if (this.weekendContainer) {\n      remove(this.weekendContainer);\n    }\n\n    if (this.nonworkingContainer) {\n      remove(this.nonworkingContainer);\n    }\n  };\n\n  return NonWorkingDay;\n}();\n\nexport { NonWorkingDay };","map":{"version":3,"sources":["/Users/tristanbilot/Desktop/Design4green/design4green/node_modules/@syncfusion/ej2-gantt/src/gantt/renderer/nonworking-day.js"],"names":["createElement","formatUnit","remove","cls","NonWorkingDay","gantt","parent","nonworkingContainer","holidayContainer","weekendContainer","prototype","createNonworkingContainer","ganttChartModule","chartBodyContent","contains","className","appendChild","renderHolidays","holidays","length","innerHTML","getHolidaysElement","parentNode","childNodes","fromDate","toDate","container","height","contentHeight","scrollElement","viewportHeight","parseInt","style","i","from","to","dateValidationModule","getDateFromFormat","setDate","getDate","setHours","width","dataOperation","getTaskWidth","perDayWidth","left","getTaskLeft","holidayDiv","holidayElement","styles","spanTop","spanElement","holidayLabel","property","disableHtmlEncode","label","cssClass","classList","add","renderWeekends","highlightWeekends","getWeekendElements","startDate","Date","timelineModule","timelineStartDate","getTime","endDate","timelineEndDate","nonWorkingIndex","nonWorkingDayIndex","isFirstCell","indexOf","getDay","start","tempEnd","weekendDiv","weekend","updateHolidayLabelHeight","top","labels","querySelectorAll","updateContainerHeight","getContentHeight","removeContainers"],"mappings":"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","sourcesContent":["import { createElement, formatUnit, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar NonWorkingDay = /** @class */ (function () {\n    function NonWorkingDay(gantt) {\n        this.parent = gantt;\n        this.nonworkingContainer = null;\n        this.holidayContainer = null;\n        this.weekendContainer = null;\n    }\n    /**\n     * Method append nonworking container\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.createNonworkingContainer = function () {\n        if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n            this.nonworkingContainer = createElement('div', {\n                className: cls.nonworkingContainer\n            });\n            this.parent.ganttChartModule.chartBodyContent.appendChild(this.nonworkingContainer);\n        }\n    };\n    /**\n     * calculation for holidays rendering.\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderHolidays = function () {\n        if (this.parent.holidays && this.parent.holidays.length > 0) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n                this.holidayContainer = createElement('div', {\n                    className: cls.holidayContainer\n                });\n                this.nonworkingContainer.appendChild(this.holidayContainer);\n            }\n            this.holidayContainer.innerHTML = this.getHolidaysElement().innerHTML;\n        }\n        else if (this.holidayContainer && this.holidayContainer.parentNode) {\n            remove(this.holidayContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to return holidays as html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getHolidaysElement = function () {\n        var fromDate;\n        var toDate;\n        var container = createElement('div');\n        var height = this.parent.contentHeight;\n        var scrollElement = this.parent.ganttChartModule.scrollElement;\n        var viewportHeight = parseInt(scrollElement.style.height, 10);\n        for (var i = 0; i < this.parent.holidays.length; i++) {\n            if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                toDate.setDate(toDate.getDate() + 1);\n                fromDate.setHours(0, 0, 0, 0);\n                toDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].from) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            var width = (this.parent.holidays[i].from && this.parent.holidays[i].to) ?\n                this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n            var left = this.parent.dataOperation.getTaskLeft(fromDate, false);\n            var holidayDiv = createElement('div', {\n                className: cls.holidayElement, styles: \"left:\" + left + \"px; width:\" + width + \"px; height:100%;\"\n            });\n            var spanTop = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n            var spanElement = createElement('span', {\n                className: cls.holidayLabel, styles: \"top:\" + spanTop + \"px;left:\" + (width / 2) + \"px;\"\n            });\n            var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n            spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n            holidayDiv.appendChild(spanElement);\n            if (this.parent.holidays[i].cssClass) {\n                holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n            }\n            container.appendChild(holidayDiv);\n        }\n        return container;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderWeekends = function () {\n        if (this.parent.highlightWeekends) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n                this.weekendContainer = createElement('div', {\n                    className: cls.weekendContainer\n                });\n                this.nonworkingContainer.appendChild(this.weekendContainer);\n            }\n            this.weekendContainer.innerHTML = this.getWeekendElements().innerHTML;\n        }\n        else if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to get weekend html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getWeekendElements = function () {\n        var container = createElement('div');\n        var startDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var endDate = new Date(this.parent.timelineModule.timelineEndDate.getTime());\n        var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n        var isFirstCell = true;\n        do {\n            if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n                var left = this.parent.dataOperation.getTaskLeft(startDate, false);\n                var width = this.parent.perDayWidth;\n                if (isFirstCell) {\n                    var start = new Date(startDate.getTime());\n                    var tempEnd = new Date(start.getTime());\n                    tempEnd.setDate(tempEnd.getDate() + 1);\n                    tempEnd.setHours(0, 0, 0, 0);\n                    width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n                    isFirstCell = false;\n                }\n                var weekendDiv = createElement('div', {\n                    className: cls.weekend, styles: \"left:\" + left + \"px;width:\" + width + \"px;height:100%;\"\n                });\n                container.appendChild(weekendDiv);\n            }\n            startDate.setDate(startDate.getDate() + 1);\n            startDate.setHours(0, 0, 0, 0);\n        } while (startDate < endDate);\n        return container;\n    };\n    NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n        var height = this.parent.contentHeight;\n        var scrollElement = this.parent.ganttChartModule.scrollElement;\n        var viewportHeight = parseInt(scrollElement.style.height, 10);\n        var top = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n        var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].style.top = formatUnit(top);\n        }\n    };\n    /**\n     * Method to update height for all internal containers\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.updateContainerHeight = function () {\n        var height = this.parent.getContentHeight();\n        if (this.holidayContainer) {\n            this.holidayContainer.style.height = formatUnit(height);\n            this.updateHolidayLabelHeight();\n        }\n        if (this.weekendContainer) {\n            this.weekendContainer.style.height = formatUnit(height);\n        }\n    };\n    /**\n     * Method to remove containers of holiday and weekend\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.removeContainers = function () {\n        if (this.holidayContainer) {\n            remove(this.holidayContainer);\n        }\n        if (this.weekendContainer) {\n            remove(this.weekendContainer);\n        }\n        if (this.nonworkingContainer) {\n            remove(this.nonworkingContainer);\n        }\n    };\n    return NonWorkingDay;\n}());\nexport { NonWorkingDay };\n"]},"metadata":{},"sourceType":"module"}