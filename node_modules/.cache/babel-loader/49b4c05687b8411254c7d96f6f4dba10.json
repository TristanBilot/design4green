{"ast":null,"code":"'use strict';\n\nvar react = require('react');\n\nvar index = initialValue => {\n  let _updaters = [];\n  let _value = initialValue;\n\n  const useSingleton = () => {\n    const [value, update] = react.useState(_value);\n    react.useEffect(() => {\n      _updaters.push(update);\n\n      return () => _updaters = _updaters.filter(el => el !== update);\n    }, []);\n    return value;\n  };\n\n  const updateSingleton = updateValue => {\n    _value = typeof updateValue === 'function' ? updateValue(_value) : updateValue;\n\n    _updaters.forEach(cb => cb(_value));\n  };\n\n  return [useSingleton, updateSingleton];\n};\n\nmodule.exports = index;","map":{"version":3,"sources":["/Users/tristanbilot/Desktop/Design4green/design4green/node_modules/@peterbee/react-singleton/dist/bundle.js"],"names":["react","require","index","initialValue","_updaters","_value","useSingleton","value","update","useState","useEffect","push","filter","el","updateSingleton","updateValue","forEach","cb","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AAEA,IAAIC,KAAK,GAAGC,YAAY,IAAI;AAC1B,MAAIC,SAAS,GAAG,EAAhB;AACA,MAAIC,MAAM,GAAGF,YAAb;;AAEA,QAAMG,YAAY,GAAG,MAAM;AACxB,UAAM,CAACC,KAAD,EAAQC,MAAR,IAAkBR,KAAK,CAACS,QAAN,CAAeJ,MAAf,CAAxB;AAEAL,IAAAA,KAAK,CAACU,SAAN,CAAgB,MAAM;AACpBN,MAAAA,SAAS,CAACO,IAAV,CAAeH,MAAf;;AACA,aAAO,MAAOJ,SAAS,GAAGA,SAAS,CAACQ,MAAV,CAAiBC,EAAE,IAAIA,EAAE,KAAKL,MAA9B,CAA1B;AACD,KAHD,EAGG,EAHH;AAKA,WAAOD,KAAP;AACF,GATD;;AAWA,QAAMO,eAAe,GAAGC,WAAW,IAAI;AACrCV,IAAAA,MAAM,GAAG,OAAOU,WAAP,KAAuB,UAAvB,GAAoCA,WAAW,CAACV,MAAD,CAA/C,GAA0DU,WAAnE;;AACAX,IAAAA,SAAS,CAACY,OAAV,CAAkBC,EAAE,IAAIA,EAAE,CAACZ,MAAD,CAA1B;AACD,GAHD;;AAKA,SAAO,CAACC,YAAD,EAAeQ,eAAf,CAAP;AACD,CArBD;;AAuBAI,MAAM,CAACC,OAAP,GAAiBjB,KAAjB","sourcesContent":["'use strict';\n\nvar react = require('react');\n\nvar index = initialValue => {\n  let _updaters = [];\n  let _value = initialValue;\n\n  const useSingleton = () => {\n     const [value, update] = react.useState(_value);\n \n     react.useEffect(() => {\n       _updaters.push(update);\n       return () => (_updaters = _updaters.filter(el => el !== update));\n     }, []);\n \n     return value;\n  };\n\n  const updateSingleton = updateValue => {\n    _value = typeof updateValue === 'function' ? updateValue(_value) : updateValue;\n    _updaters.forEach(cb => cb(_value));\n  };\n\n  return [useSingleton, updateSingleton];\n};\n\nmodule.exports = index;\n"]},"metadata":{},"sourceType":"script"}