{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\n\nvar PdfGanttPredecessor =\n/** @class */\nfunction () {\n  function PdfGanttPredecessor(parent, pdfGantt) {\n    this.parent = parent;\n    this.pdfGantt = pdfGantt;\n  }\n  /**\n   * @returns {PdfGanttPredecessor} .\n   * @hidden\n   */\n\n\n  PdfGanttPredecessor.prototype.add = function () {\n    return new PdfGanttPredecessor(this.parent);\n  };\n  /**\n   * Calculate the predecesor line point and draw the predecessor\n   *\n   * @param {PdfGantt} pdfGantt .\n   * @returns {void}\n   * @private\n   */\n\n\n  PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n    this.pdfGantt = pdfGantt;\n    var pages = pdfGantt.result.page.section.getPages();\n    var parentTask = pdfGantt.taskbarCollection[this.parentIndex];\n    var childTask = pdfGantt.taskbarCollection[this.childIndex];\n    var startPage = new PdfPage();\n    var endPage = new PdfPage();\n    var predecessorType = '';\n    var parentPageData;\n    var childPageData;\n    var parentY = 0;\n    var childY = 0;\n\n    switch (this.type) {\n      case 'FS':\n        if (childTask.startPage > -1 && parentTask.endPage > -1) {\n          startPage = pages[parentTask.endPage];\n          endPage = pages[childTask.startPage];\n          parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n          childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n\n          if (this.parentIndex < this.childIndex) {\n            if (this.parentLeft < this.childLeft && this.childLeft > this.parentLeft + this.parentWidth + 25) {\n              predecessorType = 'FSType1';\n            } else {\n              predecessorType = 'FSType2';\n            }\n          } else {\n            if (this.parentLeft < this.childLeft && this.childLeft > this.parentLeft + this.parentWidth + 25) {\n              predecessorType = 'FSType3';\n            } else {\n              predecessorType = 'FSType4';\n            }\n          }\n        } else {\n          return;\n        }\n\n        break;\n\n      case 'SF':\n        if (childTask.endPage > -1 && parentTask.startPage > -1) {\n          startPage = pages[parentTask.startPage];\n          endPage = pages[childTask.endPage];\n          parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n          childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n\n          if (this.parentIndex < this.childIndex) {\n            if (this.parentLeft > this.childLeft + this.childWidth) {\n              predecessorType = 'SFType1';\n            } else {\n              predecessorType = 'SFType2';\n            }\n          } else {\n            if (this.parentLeft > this.childLeft + this.childWidth) {\n              predecessorType = 'SFType3';\n            } else {\n              predecessorType = 'SFType4';\n            }\n          }\n        } else {\n          return;\n        }\n\n        break;\n\n      case 'FF':\n        if (childTask.endPage > -1 && parentTask.endPage > -1) {\n          startPage = pages[parentTask.endPage];\n          endPage = pages[childTask.endPage];\n          parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n          childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n\n          if (this.parentIndex < this.childIndex) {\n            if (this.childLeft + this.childWidth >= this.parentLeft + this.parentWidth) {\n              predecessorType = 'FFType1';\n            } else {\n              predecessorType = 'FFType2';\n            }\n          } else {\n            if (this.childLeft + this.childWidth >= this.parentLeft + this.parentWidth) {\n              predecessorType = 'FFType3';\n            } else {\n              predecessorType = 'FFType4';\n            }\n          }\n        } else {\n          return;\n        }\n\n        break;\n\n      case 'SS':\n        if (childTask.startPage > -1 && parentTask.startPage > -1) {\n          startPage = pages[parentTask.startPage];\n          endPage = pages[childTask.startPage];\n          parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n          childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n\n          if (this.parentIndex < this.childIndex) {\n            if (this.parentLeft >= this.childLeft) {\n              predecessorType = 'SSType1';\n            } else {\n              predecessorType = 'SSType2';\n            }\n          } else {\n            if (this.parentLeft >= this.childLeft) {\n              predecessorType = 'SSType3';\n            } else {\n              predecessorType = 'SSType4';\n            }\n          }\n        } else {\n          return;\n        }\n\n        break;\n    }\n\n    var midPoint = Math.round((this.parent.rowHeight - 1) / 2.0);\n    midPoint = pixelToPoint(midPoint);\n    /* eslint-disable-next-line */\n\n    var point1, point2, point3, point4, point5, point6;\n    point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n\n    var parentTaskpoint = __assign({}, parentTask.taskStartPoint);\n\n    var childTaskpoint = __assign({}, childTask.taskStartPoint);\n\n    parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n    childY = childTaskpoint.y + childPageData.startPoint.y;\n    var ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n    var sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n    var ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n    var ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n    var sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n\n    switch (predecessorType) {\n      case 'FSType1':\n      case 'FSType3':\n        point1 = ffpoint1;\n        point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n        point3 = ffpoint3;\n        point4 = ffpoint4;\n        this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n        break;\n\n      case 'FSType2':\n        point1 = ffpoint1;\n        point2 = new PointF(point1.x + 10, parentY + midPoint);\n        point3 = new PointF(point1.x + 10, childY + 2);\n        point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n        point5 = ffpoint3;\n        point6 = ffpoint4;\n        this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n        break;\n\n      case 'FSType4':\n        point1 = ffpoint1;\n        point2 = new PointF(point1.x + 10, parentY + midPoint);\n        point3 = new PointF(point1.x + 10, parentY + 2);\n        point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n        point5 = ffpoint3;\n        point6 = ffpoint4;\n        this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n        break;\n\n      case 'FFType1':\n      case 'FFType3':\n        point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n        point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n        point3 = new PointF(point2.x, childY + midPoint);\n        point4 = sspoint4;\n        this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n        break;\n\n      case 'FFType2':\n      case 'FFType4':\n        point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n        point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n        point3 = new PointF(point2.x, childY + midPoint);\n        point4 = sspoint4;\n        this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n        break;\n\n      case 'SSType1':\n      case 'SSType3':\n        point1 = sspoint1;\n        point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n        point3 = new PointF(point2.x, childY + midPoint);\n        point4 = ffpoint4;\n        this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n        break;\n\n      case 'SSType2':\n      case 'SSType4':\n        point1 = sspoint1;\n        point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n        point3 = new PointF(point2.x, childY + midPoint);\n        point4 = ffpoint4;\n        this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n        break;\n\n      case 'SFType1':\n      case 'SFType3':\n        point1 = sspoint1;\n        point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n        point3 = new PointF(point2.x, childY + midPoint);\n        point4 = sspoint4;\n        this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n        break;\n\n      case 'SFType2':\n        point1 = sspoint1;\n        point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n        point3 = new PointF(point2.x, childY + 2);\n        point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n        point5 = new PointF(point4.x, childY + midPoint);\n        point6 = sspoint4;\n        this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n        break;\n\n      case 'SFType4':\n        point1 = sspoint1;\n        point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n        point3 = new PointF(point2.x, parentY + 2);\n        point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n        point5 = new PointF(point4.x, childY + midPoint);\n        point6 = sspoint4;\n        this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n        break;\n    }\n  };\n  /**\n   * Method to draw the predecessor lines with calculated connector points\n   *\n   * @private\n   */\n\n  /* eslint-disable-next-line */\n\n\n  PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n    this.drawLine(startPage, point1, point2);\n    this.drawLine(startPage, point2, point3);\n    this.drawLine(startPage, point3, point4);\n\n    if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n      this.drawLine(startPage, point4, point5);\n      this.drawLine(startPage, point5, point6);\n    }\n\n    this.drawArrow(endPage, childTask, midPoint);\n  };\n  /**\n   * Method to check the predecessor line  occurs within the page\n   *\n   * @param {RectangleF} rect .\n   * @param {number} x .\n   * @param {number} y .\n   * @returns {boolean} .\n   * @private\n   */\n\n\n  PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n    return rect.x <= x && x < rect.x + rect.width && rect.y <= y && y < rect.y + rect.height;\n  };\n  /**\n   * Find the PDF page index of given point\n   *\n   * @param {PointF} point .\n   * @returns {number} .\n   * @private\n   */\n\n\n  PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n    var pageIndex = -1;\n\n    for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n      var pageData = this.pdfGantt.pdfPageDetail[index];\n      var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n\n      if (this.contains(pageRect, point.x, point.y)) {\n        pageIndex = index;\n        break;\n      }\n    }\n\n    return pageIndex;\n  };\n  /**\n   * Draw predecessor line\n   *\n   * @param {PdfPage} page .\n   * @param {PointF} startPoint .\n   * @param {PointF} endPoint .\n   * @returns {void} .\n   * @private\n   */\n\n\n  PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n    var pdfPages = this.pdfGantt.result.page.section.getPages();\n    var graphics = page.graphics;\n\n    var newEndPoint = __assign({}, endPoint);\n\n    var newStartPoint = __assign({}, endPoint);\n\n    var checkStartPoint = __assign({}, endPoint);\n\n    var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n    var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n    var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n    var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n    var pageIndex = -1;\n    startPoint = new PointF(startPoint.x, startPoint.y);\n    endPoint = new PointF(endPoint.x, endPoint.y);\n\n    if (!startPointCheck && !endPointCheck || endPointCheck && !startPointCheck) {\n      pageIndex = this.findPageIndex(startPoint);\n\n      if (pageIndex > -1) {\n        pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n        newStartPoint = startPoint;\n        newEndPoint = endPoint;\n        this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n      }\n    } else if (!endPointCheck && startPointCheck) {\n      var pageRectLeft = pageRect.x;\n      var pageRectRight = pageRect.x + pageRect.width;\n      var pageRectBottom = pageRect.y + pageRect.height;\n      var pageRectTop = pageRect.y;\n\n      if (pageRectLeft > endPoint.x) {\n        checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n        newStartPoint.x = pageRectLeft - 1;\n      } else if (pageRectRight < endPoint.x) {\n        checkStartPoint.x = endPoint.x = pageRectRight;\n        newStartPoint.x = pageRectRight;\n        checkStartPoint.x += 1;\n      } else if (pageRectBottom < endPoint.y) {\n        checkStartPoint.y = endPoint.y = pageRectBottom;\n        newStartPoint.y = pageRectBottom;\n        checkStartPoint.y += 1;\n\n        if (this.pdfGantt.enableHeader) {\n          newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n        }\n      } else if (pageRectTop > endPoint.y) {\n        newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n        endPoint.y = pageRectTop;\n\n        if (this.pdfGantt.enableHeader) {\n          checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n          endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n        }\n      }\n\n      pageIndex = this.findPageIndex(checkStartPoint);\n\n      if (pageIndex !== -1) {\n        this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n      }\n    }\n\n    if (startPointCheck) {\n      startPoint = new PointF(startPoint.x, startPoint.y);\n      endPoint = new PointF(endPoint.x, endPoint.y);\n      startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n      startPoint.y = startPoint.y - pageData.startPoint.y;\n      endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n      endPoint.y = endPoint.y - pageData.startPoint.y;\n      var brush = new PdfSolidBrush(this.connectorLineColor);\n      var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n      graphics.drawLine(predecessorPen, startPoint, endPoint);\n    }\n  };\n  /**\n   * Draw predecessor arrow\n   *\n   * @param {PdfPage} page .\n   * @param {PdfGanttTaskbarCollection} childTask .\n   * @param {number} midPoint .\n   * @returns {void} .\n   * @private\n   */\n\n\n  PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n    var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n    /* eslint-disable-next-line */\n\n    var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n    var startPoint = new PointF();\n    var pdfPages = page.section.getPages();\n    var width = 6 + this.lineWidth;\n    var point2;\n\n    if (this.type === 'FS' || this.type === 'SS') {\n      startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n    } else {\n      startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n    }\n\n    var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n\n    if (!startPointCheck) {\n      var pageIndex = this.findPageIndex(startPoint);\n\n      if (pageIndex > -1) {\n        pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n        page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n      }\n    }\n\n    var graphics = page.graphics;\n    startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n    startPoint.y = startPoint.y - pageData.startPoint.y;\n    var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n\n    if (this.type === 'FS' || this.type === 'SS') {\n      point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n    } else {\n      point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n    }\n\n    var point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n    var brush = new PdfSolidBrush(this.connectorLineColor);\n    var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n    graphics.drawLine(predecessorPen, point1, point2);\n    graphics.drawLine(predecessorPen, point2, point3);\n    graphics.drawLine(predecessorPen, point3, point1);\n  };\n\n  return PdfGanttPredecessor;\n}();\n\nexport { PdfGanttPredecessor };","map":{"version":3,"sources":["/Users/tristanbilot/Desktop/Design4green/design4green/node_modules/@syncfusion/ej2-gantt/src/gantt/export/pdf-connector-line.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","PointF","PdfPage","PdfPen","PdfSolidBrush","RectangleF","SizeF","pixelToPoint","isNullOrUndefined","PdfGanttPredecessor","parent","pdfGantt","add","drawPredecessor","pages","result","page","section","getPages","parentTask","taskbarCollection","parentIndex","childTask","childIndex","startPage","endPage","predecessorType","parentPageData","childPageData","parentY","childY","type","pdfPageDetail","chartPageIndex","parentLeft","childLeft","parentWidth","childWidth","midPoint","Math","round","rowHeight","point1","point2","point3","point4","point5","point6","parentTaskpoint","taskStartPoint","childTaskpoint","y","startPoint","ffpoint1","sspoint1","ffpoint3","ffpoint4","lineWidth","sspoint4","connectLines","x","drawLine","drawArrow","contains","rect","width","height","findPageIndex","point","pageIndex","index","pageData","pageRect","endPoint","pdfPages","graphics","newEndPoint","newStartPoint","checkStartPoint","indexOf","startPointCheck","endPointCheck","pageRectLeft","pageRectRight","pageRectBottom","pageRectTop","enableHeader","timelineModule","isSingleTier","pageStartX","brush","connectorLineColor","predecessorPen"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttPredecessor = /** @class */ (function () {\n    function PdfGanttPredecessor(parent, pdfGantt) {\n        this.parent = parent;\n        this.pdfGantt = pdfGantt;\n    }\n    /**\n     * @returns {PdfGanttPredecessor} .\n     * @hidden\n     */\n    PdfGanttPredecessor.prototype.add = function () {\n        return new PdfGanttPredecessor(this.parent);\n    };\n    /**\n     * Calculate the predecesor line point and draw the predecessor\n     *\n     * @param {PdfGantt} pdfGantt .\n     * @returns {void}\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n        this.pdfGantt = pdfGantt;\n        var pages = pdfGantt.result.page.section.getPages();\n        var parentTask = pdfGantt.taskbarCollection[this.parentIndex];\n        var childTask = pdfGantt.taskbarCollection[this.childIndex];\n        var startPage = new PdfPage();\n        var endPage = new PdfPage();\n        var predecessorType = '';\n        var parentPageData;\n        var childPageData;\n        var parentY = 0;\n        var childY = 0;\n        switch (this.type) {\n            case 'FS':\n                if (childTask.startPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType1';\n                        }\n                        else {\n                            predecessorType = 'FSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType3';\n                        }\n                        else {\n                            predecessorType = 'FSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SF':\n                if (childTask.endPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType1';\n                        }\n                        else {\n                            predecessorType = 'SFType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType3';\n                        }\n                        else {\n                            predecessorType = 'SFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'FF':\n                if (childTask.endPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType1';\n                        }\n                        else {\n                            predecessorType = 'FFType2';\n                        }\n                    }\n                    else {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType3';\n                        }\n                        else {\n                            predecessorType = 'FFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SS':\n                if (childTask.startPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType1';\n                        }\n                        else {\n                            predecessorType = 'SSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType3';\n                        }\n                        else {\n                            predecessorType = 'SSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n        }\n        var midPoint = Math.round((this.parent.rowHeight - 1) / 2.0);\n        midPoint = pixelToPoint(midPoint);\n        /* eslint-disable-next-line */\n        var point1, point2, point3, point4, point5, point6;\n        point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n        var parentTaskpoint = __assign({}, parentTask.taskStartPoint);\n        var childTaskpoint = __assign({}, childTask.taskStartPoint);\n        parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n        childY = childTaskpoint.y + childPageData.startPoint.y;\n        var ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n        var sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n        var ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n        var ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n        var sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        switch (predecessorType) {\n            case 'FSType1':\n            case 'FSType3':\n                point1 = ffpoint1;\n                point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                point3 = ffpoint3;\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FSType2':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, childY + 2);\n                point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FSType4':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, parentY + 2);\n                point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FFType1':\n            case 'FFType3':\n                point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FFType2':\n            case 'FFType4':\n                point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType1':\n            case 'SSType3':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType2':\n            case 'SSType4':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType1':\n            case 'SFType3':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType2':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + 2);\n                point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'SFType4':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                point3 = new PointF(point2.x, parentY + 2);\n                point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n        }\n    };\n    /**\n     * Method to draw the predecessor lines with calculated connector points\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n        this.drawLine(startPage, point1, point2);\n        this.drawLine(startPage, point2, point3);\n        this.drawLine(startPage, point3, point4);\n        if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n            this.drawLine(startPage, point4, point5);\n            this.drawLine(startPage, point5, point6);\n        }\n        this.drawArrow(endPage, childTask, midPoint);\n    };\n    /**\n     * Method to check the predecessor line  occurs within the page\n     *\n     * @param {RectangleF} rect .\n     * @param {number} x .\n     * @param {number} y .\n     * @returns {boolean} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n        return rect.x <= x &&\n            x < rect.x + rect.width &&\n            rect.y <= y &&\n            y < rect.y + rect.height;\n    };\n    /**\n     * Find the PDF page index of given point\n     *\n     * @param {PointF} point .\n     * @returns {number} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n        var pageIndex = -1;\n        for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n            var pageData = this.pdfGantt.pdfPageDetail[index];\n            var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n            if (this.contains(pageRect, point.x, point.y)) {\n                pageIndex = index;\n                break;\n            }\n        }\n        return pageIndex;\n    };\n    /**\n     * Draw predecessor line\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {PointF} endPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n        var pdfPages = this.pdfGantt.result.page.section.getPages();\n        var graphics = page.graphics;\n        var newEndPoint = __assign({}, endPoint);\n        var newStartPoint = __assign({}, endPoint);\n        var checkStartPoint = __assign({}, endPoint);\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n        var pageIndex = -1;\n        startPoint = new PointF(startPoint.x, startPoint.y);\n        endPoint = new PointF(endPoint.x, endPoint.y);\n        if (!startPointCheck && !endPointCheck || endPointCheck && !startPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (!endPointCheck && startPointCheck) {\n            var pageRectLeft = pageRect.x;\n            var pageRectRight = pageRect.x + pageRect.width;\n            var pageRectBottom = pageRect.y + pageRect.height;\n            var pageRectTop = pageRect.y;\n            if (pageRectLeft > endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n                newStartPoint.x = pageRectLeft - 1;\n            }\n            else if (pageRectRight < endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectRight;\n                newStartPoint.x = pageRectRight;\n                checkStartPoint.x += 1;\n            }\n            else if (pageRectBottom < endPoint.y) {\n                checkStartPoint.y = endPoint.y = pageRectBottom;\n                newStartPoint.y = pageRectBottom;\n                checkStartPoint.y += 1;\n                if (this.pdfGantt.enableHeader) {\n                    newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            else if (pageRectTop > endPoint.y) {\n                newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n                endPoint.y = pageRectTop;\n                if (this.pdfGantt.enableHeader) {\n                    checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                    endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            pageIndex = this.findPageIndex(checkStartPoint);\n            if (pageIndex !== -1) {\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        if (startPointCheck) {\n            startPoint = new PointF(startPoint.x, startPoint.y);\n            endPoint = new PointF(endPoint.x, endPoint.y);\n            startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            startPoint.y = startPoint.y - pageData.startPoint.y;\n            endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            endPoint.y = endPoint.y - pageData.startPoint.y;\n            var brush = new PdfSolidBrush(this.connectorLineColor);\n            var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n            graphics.drawLine(predecessorPen, startPoint, endPoint);\n        }\n    };\n    /**\n     * Draw predecessor arrow\n     *\n     * @param {PdfPage} page .\n     * @param {PdfGanttTaskbarCollection} childTask .\n     * @param {number} midPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        /* eslint-disable-next-line */\n        var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n        var startPoint = new PointF();\n        var pdfPages = page.section.getPages();\n        var width = 6 + this.lineWidth;\n        var point2;\n        if (this.type === 'FS' || this.type === 'SS') {\n            startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n        }\n        else {\n            startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n        }\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        if (!startPointCheck) {\n            var pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n            }\n        }\n        var graphics = page.graphics;\n        startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n        startPoint.y = startPoint.y - pageData.startPoint.y;\n        var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n        if (this.type === 'FS' || this.type === 'SS') {\n            point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n        }\n        else {\n            point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n        }\n        var point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n        var brush = new PdfSolidBrush(this.connectorLineColor);\n        var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n        graphics.drawLine(predecessorPen, point1, point2);\n        graphics.drawLine(predecessorPen, point2, point3);\n        graphics.drawLine(predecessorPen, point3, point1);\n    };\n    return PdfGanttPredecessor;\n}());\nexport { PdfGanttPredecessor };\n"]},"metadata":{},"sourceType":"module"}